<div class="form-container">
  <h2 class="text-center mb-4">Product Form</h2>

  <form [formGroup]="productForm" class="custom-form">
    <div class="form-group row mb-3">
      <label for="productName" class="col-sm-3 col-form-label text-end"
        >Product Name</label
      >
      <div class="col-sm-9">
        <input
          type="text"
          class="form-control"
          id="productName"
          formControlName="name"
          [class.is-invalid]="!nameValid && productForm.controls.name.touched"
        />
        @if (!nameValid && productForm.controls.name.touched) {
        <div class="invalid-feedback">
          Product name is required (min 3 characters)
        </div>
        }
      </div>
    </div>

    <div class="form-group row mb-3">
      <label for="productImageUrl" class="col-sm-3 col-form-label text-end"
        >Image URL</label
      >
      <div class="col-sm-9">
        <input
          type="url"
          class="form-control"
          id="productImageUrl"
          formControlName="imageUrl"
          [class.is-invalid]="
            !imageUrlValid && productForm.controls.imageUrl.touched
          "
        />
        @if (!imageUrlValid && productForm.controls.imageUrl.touched) {
        <div class="invalid-feedback">Valid URL is required</div>
        }
      </div>
    </div>

    <div class="form-group row mb-3">
      <label for="productRate" class="col-sm-3 col-form-label text-end"
        >Rate</label
      >
      <div class="col-sm-9">
        <input
          type="number"
          class="form-control"
          id="productRate"
          formControlName="rate"
          [class.is-invalid]="!rateValid && productForm.controls.rate.touched"
        />
        @if (!rateValid && productForm.controls.rate.touched) {
        <div class="invalid-feedback">Rate must be between 1 and 5</div>
        }
      </div>
    </div>

    <div class="form-group row mb-3">
      <label for="productDescription" class="col-sm-3 col-form-label text-end"
        >Description</label
      >
      <div class="col-sm-9">
        <textarea
          class="form-control"
          id="productDescription"
          formControlName="description"
          rows="3"
          [class.is-invalid]="
            !descriptionValid && productForm.controls.description.touched
          "
        ></textarea>
        @if (!descriptionValid && productForm.controls.description.touched) {
        <div class="invalid-feedback">Description is required</div>
        }
      </div>
    </div>

    <div class="form-group row">
      <div class="col-sm-9 offset-sm-3">
        <div class="button-group">
          <button type="reset" class="btn btn-secondary me-2">Reset</button>
          <button
            type="submit"
            class="btn btn-primary"
            (click)="submit()"
            [disabled]="!productForm.valid"
          >
            Submit
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
